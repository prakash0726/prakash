<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Parking System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>

    <style>
        body {
            background-color: cadetblue;
        }

        .container {
            text-align: center;
            max-width: 900px;
            margin: auto;
            padding: 20px;
            border: 1px solid #9c63c0;
            border-radius: 5px;

        }

        .bay {
            display: inline-block;
            width: 150px;
            height: 150px;
            margin: 5px;
            border: 3px solid black;
            border-radius: 30px;
        }

        .free-bay {
            background-color: green;
        }

        .occupied-bay {
            background-color: grey;
        }
        
    </style>

</head>

<body>
    <div class="container mt-5">
        <div>
            <h1 class="mt-3">PARKING BAYS </h1>
            <label for="vehicleNo" class="mt-4">VEHICLE NUMBER:</label>
            <input type="text" id="vehicleNo" class="mr-2">
            <button type="button" class="btn btn-primary " onclick="entry()">ENTRY</button>
            <button type="button" class="btn btn-warning " onclick="search()">SEARCH</button>
            <button type="button" class="btn btn-danger " onclick="exit()">EXIT</button>
        </div>
        <div class="mt-3">
            <p id="alert"></p>
        </div>
        <div class="mt-3">
            <div id="bay"></div>
        </div>
    </div>

    <script>
        let parkingBays = new Array(10).fill(null);

        function vehicleadd() {
            let parkingBaysElement = document.getElementById('bay');
            parkingBaysElement.innerHTML = '';

            for (let index = 0; index < parkingBays.length; index++) {
                let vehiclebay = parkingBays[index]
                let bayElement = document.createElement('div');

                if (vehiclebay) {
                    bayElement.className = 'bay occupied-bay';
                } else {
                    bayElement.className = 'bay free-bay';
                }
                parkingBaysElement.appendChild(bayElement);
            }
        }

        function entry() {
            const vehicleNo = document.getElementById('vehicleNo').value;

            for (index = 0; index < parkingBays.length && parkingBays[index] !== null; index++) {

            }

            if (index < parkingBays.length) {
                parkingBays[index] = vehicleNo;
                vehicleadd();
                document.getElementById('alert').innerText = "Vehicle parked at bay" + (index + 1);
            } else {
                document.getElementById('alert').innerText = 'Parking is full!';
            }
        }

        function search() {
            const vehicleNo = document.getElementById('vehicleNo').value;

            for (index = 0; index < parkingBays.length && parkingBays[index] !== vehicleNo; index++) {

            }

            if (index < parkingBays.length) {
                document.getElementById('alert').innerText = "Vehicle found at bay" + (index + 1);
            } else {
                document.getElementById('alert').innerText = 'Vehicle not found in the parking lot';
            }
        }

        function exit() {
            const vehicleNo = document.getElementById('vehicleNo').value;

            for (index = 0; index < parkingBays.length && parkingBays[index] !== vehicleNo; index++) {

            }

            if (index < parkingBays.length) {
                parkingBays[index] = null;
                vehicleadd();
                document.getElementById('alert').innerText = ' Vehicle exited from bay ' + (index + 1);
            } else {
                document.getElementById('alert').innerText = 'Vehicle not found in the parking lot';
            }
        }
        vehicleadd();
    </script>

</body>

</html>